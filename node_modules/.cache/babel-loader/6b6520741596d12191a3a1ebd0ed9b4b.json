{"ast":null,"code":"import _objectSpread from \"/Users/antontuominen/Desktop/NovelApp/react_novel/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/antontuominen/Desktop/NovelApp/react_novel/src/Haiku.js\";\nimport React, { useContext, useEffect } from 'react';\nimport { Paper } from '@material-ui/core';\nimport { HaikuContext } from './HaikuList';\nimport { AuthContext } from './Auth';\nexport default function Haiku({\n  title,\n  text,\n  user,\n  score,\n  id,\n  userVote\n}) {\n  const _useContext = useContext(AuthContext),\n        currentUser = _useContext.currentUser;\n\n  const _useContext2 = useContext(HaikuContext),\n        haikus = _useContext2.haikus,\n        setHaiku = _useContext2.setHaiku;\n\n  const handleHaiku = (id, a) => {\n    //making sure that user can only give one vote to a haiku \n    const updatedHaikus = haikus.map(haiku => haiku.id === id && haiku.userVote.contains(currentUser) != true ? _objectSpread({}, haiku, {\n      score: haiku.score + a,\n      userVote: haiku.userVote.push(currentUser)\n    }) : haiku);\n    updatedHaikus.sort((a, b) => b.score - a.score);\n    setHaiku(updatedHaikus);\n  };\n\n  window.localStorage.setItem(\"haikus\", JSON.stringify(haikus));\n  return React.createElement(Paper, {\n    style: {\n      margin: \"0.5rem\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      width: \"15%\",\n      margin: \"1rem 0 1rem 1rem\",\n      fontSize: \"2rem\",\n      float: \"left\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    style: {\n      color: \"green\"\n    },\n    className: \"fas fa-thumbs-up\",\n    onClick: () => handleHaiku(id, 1),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, score), React.createElement(\"i\", {\n    style: {\n      color: \"pink\"\n    },\n    className: \"fas fa-thumbs-down\",\n    onClick: () => handleHaiku(id, -1),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"\\\"\", title, \"\\\"\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, text), React.createElement(\"div\", {\n    style: {\n      marginTop: \"0.5rem\",\n      fontWeight: \"bold\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \"-\", user)));\n}","map":{"version":3,"sources":["/Users/antontuominen/Desktop/NovelApp/react_novel/src/Haiku.js"],"names":["React","useContext","useEffect","Paper","HaikuContext","AuthContext","Haiku","title","text","user","score","id","userVote","currentUser","haikus","setHaiku","handleHaiku","a","updatedHaikus","map","haiku","contains","push","sort","b","window","localStorage","setItem","JSON","stringify","margin","display","flexDirection","width","fontSize","float","color","marginTop","fontWeight"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react'\nimport { Paper } from '@material-ui/core'\nimport { HaikuContext } from './HaikuList'\nimport { AuthContext } from './Auth'\n\nexport default function Haiku({ title, text, user, score, id, userVote }) {\n    const { currentUser } = useContext(AuthContext);\n    const { haikus, setHaiku } = useContext(HaikuContext)\n\n    const handleHaiku = (id, a) => {\n        //making sure that user can only give one vote to a haiku \n        const updatedHaikus = haikus.map(haiku => (\n            haiku.id === id && haiku.userVote.contains(currentUser) != true ? { ...haiku, score: haiku.score + a, userVote: haiku.userVote.push(currentUser) } : haiku)\n        )\n        updatedHaikus.sort((a, b) => b.score - a.score);\n        setHaiku(updatedHaikus);\n    }\n    window.localStorage.setItem(\"haikus\", JSON.stringify(haikus))\n    return (\n        <Paper style={{ margin: \"0.5rem\" }}>\n            <div style={{ display: \"flex\", flexDirection: \"column\", width: \"15%\", margin: \"1rem 0 1rem 1rem\", fontSize: \"2rem\", float: \"left\" }}>\n                <i style={{ color: \"green\" }} className=\"fas fa-thumbs-up\" onClick={() => handleHaiku(id, 1)}></i>\n                <div >{score}</div>\n                <i style={{ color: \"pink\" }} className=\"fas fa-thumbs-down\" onClick={() => handleHaiku(id, -1)}></i>\n            </div>\n            <div>\n                <h2 >\"{title}\"</h2>\n                <div >{text}</div>\n                <div style={{ marginTop: \"0.5rem\", fontWeight: \"bold\" }}>-{user}</div>\n            </div>\n        </Paper>\n    )\n}"]},"metadata":{},"sourceType":"module"}