{"ast":null,"code":"import _objectSpread from \"/Users/antontuominen/Desktop/NovelApp/react_novel/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/antontuominen/Desktop/NovelApp/react_novel/src/Haiku.js\";\nimport React, { useContext } from 'react';\nimport { Paper, Typography } from '@material-ui/core';\nimport { HaikuContext } from './HaikuList';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AuthContext } from './Auth';\nimport { Grid } from '@material-ui/core';\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    maxWidth: 400,\n    margin: `${theme.spacing(1)}px auto`,\n    padding: theme.spacing(2)\n  }\n}));\nexport default function Haiku({\n  title,\n  text,\n  user,\n  score,\n  id\n}) {\n  const classes = useStyles();\n\n  const _useContext = useContext(AuthContext),\n        currentUser = _useContext.currentUser;\n\n  const _useContext2 = useContext(HaikuContext),\n        haikus = _useContext2.haikus,\n        setHaiku = _useContext2.setHaiku;\n\n  const handleHaiku = (id, a) => {\n    //making sure that user can only have one vote for haiku\n    const updatedHaikus = haikus.map(haiku => haiku.id === id && haiku.userVote.includes(currentUser.email) != true ? _objectSpread({}, haiku, {\n      score: haiku.score + a,\n      userVote: [...haiku.userVote, currentUser.email]\n    }) : haiku);\n    updatedHaikus.sort((a, b) => b.score - a.score);\n    setHaiku(updatedHaikus);\n  };\n\n  window.localStorage.setItem(\"haikus\", JSON.stringify(haikus));\n  return React.createElement(Paper, {\n    className: classes.paper,\n    style: {\n      wordWrap: \"break-word\",\n      position: \"absolute\",\n      top: \"50px\",\n      left: \"0px\",\n      right: \"0px\",\n      bottom: \"0px\",\n      overflowY: \"scroll\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    wrap: \"nowrap\",\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      fontSize: \"2rem\",\n      backgroundColor: \"rgb(247,249,250)\",\n      padding: \"0.5rem\",\n      borderRadius: \"15px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    style: {\n      color: \"green\",\n      margin: \"0 auto\"\n    },\n    className: \"fas fa-thumbs-up\",\n    onClick: () => handleHaiku(id, 1),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    style: {\n      margin: \"0 auto\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, score), React.createElement(\"i\", {\n    style: {\n      color: \"pink\",\n      margin: \"0 auto\"\n    },\n    className: \"fas fa-thumbs-down\",\n    onClick: () => handleHaiku(id, -1),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: true,\n    zeroMinWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"\\\"\", title, \"\\\"\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, text, \" \"), React.createElement(\"div\", {\n    style: {\n      fontSize: \"0.8rem\",\n      marginTop: \"0.5rem\",\n      marginBottom: \"0.5rem\",\n      fontWeight: \"bold\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"-\", user)))));\n}","map":{"version":3,"sources":["/Users/antontuominen/Desktop/NovelApp/react_novel/src/Haiku.js"],"names":["React","useContext","Paper","Typography","HaikuContext","makeStyles","AuthContext","Grid","useStyles","theme","paper","maxWidth","margin","spacing","padding","Haiku","title","text","user","score","id","classes","currentUser","haikus","setHaiku","handleHaiku","a","updatedHaikus","map","haiku","userVote","includes","email","sort","b","window","localStorage","setItem","JSON","stringify","wordWrap","position","top","left","right","bottom","overflowY","display","flexDirection","fontSize","backgroundColor","borderRadius","color","marginTop","marginBottom","fontWeight"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react'\nimport { Paper, Typography } from '@material-ui/core'\nimport { HaikuContext } from './HaikuList'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AuthContext } from './Auth'\nimport { Grid } from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        maxWidth: 400,\n        margin: `${theme.spacing(1)}px auto`,\n        padding: theme.spacing(2),\n    },\n}));\n\nexport default function Haiku({ title, text, user, score, id }) {\n    const classes = useStyles();\n    const { currentUser } = useContext(AuthContext);\n    const { haikus, setHaiku } = useContext(HaikuContext)\n    const handleHaiku = (id, a) => {\n        //making sure that user can only have one vote for haiku\n        const updatedHaikus = haikus.map(haiku => (\n            haiku.id === id && haiku.userVote.includes(currentUser.email) != true ? { ...haiku, score: haiku.score + a, userVote: [...haiku.userVote, currentUser.email] } : haiku)\n        )\n        updatedHaikus.sort((a, b) => b.score - a.score);\n        setHaiku(updatedHaikus);\n    }\n    window.localStorage.setItem(\"haikus\", JSON.stringify(haikus))\n    return (\n        <Paper className={classes.paper} style={{\n            wordWrap: \"break-word\", position: \"absolute\",\n            top: \"50px\",\n            left: \"0px\",\n            right: \"0px\",\n            bottom: \"0px\",\n            overflowY: \"scroll\"\n        }}>\n            <Grid container wrap=\"nowrap\" spacing={2}>\n                <Grid item >\n                    <div style={{ display: \"flex\", flexDirection: \"column\", fontSize: \"2rem\", backgroundColor: \"rgb(247,249,250)\", padding: \"0.5rem\", borderRadius: \"15px\" }}>\n                        <i style={{ color: \"green\", margin: \"0 auto\" }} className=\"fas fa-thumbs-up\" onClick={() => handleHaiku(id, 1)}></i>\n                        <div style={{ margin: \"0 auto\" }}>{score}</div>\n                        <i style={{ color: \"pink\", margin: \"0 auto\" }} className=\"fas fa-thumbs-down\" onClick={() => handleHaiku(id, -1)}></i>\n                    </div>\n                </Grid>\n                <Grid item xs zeroMinWidth>\n                    <Typography >\n                        <h2>\"{title}\"</h2>\n                        <div>{text} </div>\n                        <div style={{ fontSize: \"0.8rem\", marginTop: \"0.5rem\", marginBottom: \"0.5rem\", fontWeight: \"bold\" }}>-{user}</div>\n                    </Typography>\n                </Grid>\n            </Grid>\n        </Paper >\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}