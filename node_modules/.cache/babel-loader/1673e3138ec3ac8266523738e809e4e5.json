{"ast":null,"code":"import _slicedToArray from \"/Users/antontuominen/Desktop/HaikuApp/react_haiku/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/antontuominen/Desktop/HaikuApp/react_haiku/src/context/HaikuList.js\";\nimport React, { useState, useEffect } from 'react';\nimport firebase from '../Fire';\nexport const HaikuContext = React.createContext();\nexport function HaikuProvider(props) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        initialHaikus = _useState2[0],\n        setInitial = _useState2[1];\n\n  const db = firebase.firestore();\n  let cityRef = db.collection('haikus').doc('8LMQarulirmmNLL8dTqY');\n  useEffect(() => {\n    cityRef.get().then(doc => {\n      if (!doc.exists) {\n        setInitial([\"plop\"]);\n      } else {\n        setInitial(doc.data().haikus);\n      }\n    }).catch(err => {\n      setInitial([]);\n    });\n  });\n\n  const _useState3 = useState(\"initialHaikus\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        haikus = _useState4[0],\n        setHaiku = _useState4[1];\n\n  return React.createElement(HaikuContext.Provider, {\n    value: {\n      haikus,\n      setHaiku\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, props.children);\n}","map":{"version":3,"sources":["/Users/antontuominen/Desktop/HaikuApp/react_haiku/src/context/HaikuList.js"],"names":["React","useState","useEffect","firebase","HaikuContext","createContext","HaikuProvider","props","initialHaikus","setInitial","db","firestore","cityRef","collection","doc","get","then","exists","data","haikus","catch","err","setHaiku","children"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,SAArB;AAEA,OAAO,MAAMC,YAAY,GAAGJ,KAAK,CAACK,aAAN,EAArB;AACP,OAAO,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAAA,oBACGN,QAAQ,CAAC,EAAD,CADX;AAAA;AAAA,QAC1BO,aAD0B;AAAA,QACXC,UADW;;AAEjC,QAAMC,EAAE,GAAGP,QAAQ,CAACQ,SAAT,EAAX;AACA,MAAIC,OAAO,GAAGF,EAAE,CAACG,UAAH,CAAc,QAAd,EAAwBC,GAAxB,CAA4B,sBAA5B,CAAd;AACAZ,EAAAA,SAAS,CAAC,MAAM;AACZU,IAAAA,OAAO,CAACG,GAAR,GACKC,IADL,CACUF,GAAG,IAAI;AAET,UAAI,CAACA,GAAG,CAACG,MAAT,EAAiB;AACbR,QAAAA,UAAU,CAAC,CAAC,MAAD,CAAD,CAAV;AACH,OAFD,MAEO;AACHA,QAAAA,UAAU,CAACK,GAAG,CAACI,IAAJ,GAAWC,MAAZ,CAAV;AACH;AACJ,KARL,EASKC,KATL,CASWC,GAAG,IAAI;AACVZ,MAAAA,UAAU,CAAC,EAAD,CAAV;AACH,KAXL;AAaH,GAdQ,CAAT;;AAJiC,qBAsBNR,QAAQ,CAAC,eAAD,CAtBF;AAAA;AAAA,QAsB1BkB,MAtB0B;AAAA,QAsBlBG,QAtBkB;;AAyBjC,SACI,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE;AAAEH,MAAAA,MAAF;AAAUG,MAAAA;AAAV,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKf,KAAK,CAACgB,QADX,CADJ;AAKH","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport firebase from '../Fire'\n\nexport const HaikuContext = React.createContext();\nexport function HaikuProvider(props) {\n    const [initialHaikus, setInitial] = useState([]);\n    const db = firebase.firestore();\n    let cityRef = db.collection('haikus').doc('8LMQarulirmmNLL8dTqY');\n    useEffect(() => {\n        cityRef.get()\n            .then(doc => {\n\n                if (!doc.exists) {\n                    setInitial([\"plop\"])\n                } else {\n                    setInitial(doc.data().haikus);\n                }\n            })\n            .catch(err => {\n                setInitial([])\n            });\n\n    })\n\n\n\n    const [haikus, setHaiku] = useState(\"initialHaikus\")\n\n\n    return (\n        <HaikuContext.Provider value={{ haikus, setHaiku }}>\n            {props.children}\n        </HaikuContext.Provider>\n    )\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}