{"ast":null,"code":"import _slicedToArray from \"/Users/antontuominen/Desktop/HaikuApp/react_haiku/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/antontuominen/Desktop/HaikuApp/react_haiku/src/StoryField.js\";\nimport React, { useEffect, useContext } from 'react';\nimport uuid from 'uuid/v4';\nimport { TextField, Button } from '@material-ui/core';\nimport useInputState from './hooks/useInputState';\nimport { AuthContext } from './context/Auth';\nimport { HaikuContext } from './context/HaikuList';\nimport { FormContext } from './context/FormContext';\nimport { Redirect } from 'react-router-dom';\nimport fire from './Fire';\n\nfunction StoryField() {\n  const _useContext = useContext(HaikuContext),\n        haikus = _useContext.haikus,\n        setHaiku = _useContext.setHaiku;\n\n  const _useContext2 = useContext(FormContext),\n        formSent = _useContext2.formSent,\n        handleForm = _useContext2.handleForm;\n\n  const _useContext3 = useContext(AuthContext),\n        currentUser = _useContext3.currentUser;\n\n  const _useInputState = useInputState(\"\"),\n        _useInputState2 = _slicedToArray(_useInputState, 2),\n        title = _useInputState2[0],\n        handleTitle = _useInputState2[1];\n\n  const _useInputState3 = useInputState(\"\"),\n        _useInputState4 = _slicedToArray(_useInputState3, 2),\n        text = _useInputState4[0],\n        handleText = _useInputState4[1];\n\n  const db = fire.firestore();\n  const score = 0;\n  const userVote = [];\n\n  const handleHaiku = (title, text, user, score, userVote) => {\n    setHaiku([...haikus, {\n      id: uuid(),\n      title: title,\n      text: text,\n      user: user,\n      score: score,\n      userVote: userVote\n    }]);\n    handleForm(true);\n    setTimeout(() => {\n      handleForm(false);\n    }, 1500);\n  };\n\n  useEffect(() => {\n    haikus.sort((a, b) => b.score - a.score);\n    db.collection(\"haikus\").set(haikus);\n  });\n\n  if (formSent || !currentUser) {\n    return React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    });\n  }\n\n  if (currentUser || !formSent) return React.createElement(\"div\", {\n    style: {\n      textAlign: \" center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: () => handleHaiku(title, text, currentUser.email, score, userVote),\n    style: {\n      display: \"inline-block\",\n      marginBottom: \"1rem\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    label: \"Title\",\n    autoFocus: true,\n    style: {\n      marginTop: \"1rem\"\n    },\n    title: title,\n    onChange: handleTitle,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    multiline: true,\n    variant: \"outlined\",\n    style: {\n      width: \"98%\",\n      margin: \"1rem 0\",\n      backgroundColor: \"rgb(247,249,250)\",\n      border: \"2px solid rgb(63,81,181)\"\n    },\n    rows: \"15\",\n    text: text,\n    onChange: handleText,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"contained\",\n    type: \"submit\",\n    style: {\n      backgroundColor: \"rgb(63,81,181)\",\n      color: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Submit\")), React.createElement(\"div\", {\n    style: {\n      margin: \"auto 0\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Traditional Haiku Structure\", React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"1. There are only three lines, totaling 17 syllables.\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"2. The first line is 5 syllables.\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"3. The second line is 7 syllables.\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"4. The third line is 5 syllables like the first.\")));\n}\n\nexport default StoryField;","map":{"version":3,"sources":["/Users/antontuominen/Desktop/HaikuApp/react_haiku/src/StoryField.js"],"names":["React","useEffect","useContext","uuid","TextField","Button","useInputState","AuthContext","HaikuContext","FormContext","Redirect","fire","StoryField","haikus","setHaiku","formSent","handleForm","currentUser","title","handleTitle","text","handleText","db","firestore","score","userVote","handleHaiku","user","id","setTimeout","sort","a","b","collection","set","textAlign","email","display","marginBottom","marginTop","width","margin","backgroundColor","border","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext } from 'react'\nimport uuid from 'uuid/v4'\nimport { TextField, Button } from '@material-ui/core'\nimport useInputState from './hooks/useInputState'\nimport { AuthContext } from './context/Auth'\nimport { HaikuContext } from './context/HaikuList'\nimport { FormContext } from './context/FormContext'\nimport { Redirect } from 'react-router-dom'\nimport fire from './Fire'\n\n\nfunction StoryField() {\n    const { haikus, setHaiku } = useContext(HaikuContext)\n    const { formSent, handleForm } = useContext(FormContext)\n    const { currentUser } = useContext(AuthContext);\n    const [title, handleTitle] = useInputState(\"\")\n    const [text, handleText] = useInputState(\"\")\n    const db = fire.firestore();\n\n\n    const score = 0;\n    const userVote = [];\n    const handleHaiku = (title, text, user, score, userVote) => {\n        setHaiku([...haikus, { id: uuid(), title: title, text: text, user: user, score: score, userVote: userVote }])\n        handleForm(true);\n        setTimeout(() => {\n            handleForm(false)\n        }, 1500);\n    }\n    useEffect(() => {\n        haikus.sort((a, b) => b.score - a.score);\n        db.collection(\"haikus\").set(haikus);\n    })\n\n    if (formSent || !currentUser) {\n        return <Redirect to={\"/\"} />\n    }\n\n    if (currentUser || !formSent)\n        return (\n            <div style={{ textAlign: \" center\" }}>\n                <form onSubmit={() => handleHaiku(title, text, currentUser.email, score, userVote)} style={{ display: \"inline-block\", marginBottom: \"1rem\" }}>\n                    <TextField label=\"Title\" autoFocus style={{ marginTop: \"1rem\" }}\n                        title={title} onChange={handleTitle} required />\n                    <TextField multiline variant=\"outlined\" style={{ width: \"98%\", margin: \"1rem 0\", backgroundColor: \"rgb(247,249,250)\", border: \"2px solid rgb(63,81,181)\" }} rows=\"15\"\n                        text={text} onChange={handleText} required />\n                    <Button variant=\"contained\" type=\"submit\" style={{ backgroundColor: \"rgb(63,81,181)\", color: \"white\" }} >Submit</Button>\n                </form>\n                <div style={{ margin: \"auto 0\" }}>Traditional Haiku Structure\n                        <p>1. There are only three lines, totaling 17 syllables.</p>\n                    <p>2. The first line is 5 syllables.</p>\n                    <p>3. The second line is 7 syllables.</p>\n                    <p>4. The third line is 5 syllables like the first.</p>\n                </div>\n            </div>\n        )\n}\n\nexport default StoryField"]},"metadata":{},"sourceType":"module"}