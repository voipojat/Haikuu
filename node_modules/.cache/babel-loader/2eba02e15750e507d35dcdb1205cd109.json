{"ast":null,"code":"import _toConsumableArray from\"/Users/antontuominen/Desktop/NovelApp/react_novel/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/antontuominen/Desktop/NovelApp/react_novel/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useContext}from'react';import{Paper}from'@material-ui/core';import{HaikuContext}from'./HaikuList';import{makeStyles}from'@material-ui/core/styles';import{AuthContext}from'./Auth';import{Grid}from'@material-ui/core';var useStyles=makeStyles(function(theme){return{paper:{maxWidth:300,margin:\"\".concat(theme.spacing(1),\"px auto\"),padding:theme.spacing(2)}};});export default function Haiku(_ref){var title=_ref.title,text=_ref.text,user=_ref.user,score=_ref.score,id=_ref.id;var classes=useStyles();var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;var _useContext2=useContext(HaikuContext),haikus=_useContext2.haikus,setHaiku=_useContext2.setHaiku;var handleHaiku=function handleHaiku(id,a){//making sure that user can only have one vote for haiku\nvar updatedHaikus=haikus.map(function(haiku){return haiku.id===id&&haiku.userVote.includes(currentUser.email)!==true?_objectSpread({},haiku,{score:haiku.score+a,userVote:[].concat(_toConsumableArray(haiku.userVote),[currentUser.email])}):haiku;});updatedHaikus.sort(function(a,b){return b.score-a.score;});setHaiku(updatedHaikus);};window.localStorage.setItem(\"haikus\",JSON.stringify(haikus));return React.createElement(Paper,{className:classes.paper,style:{wordWrap:\"break-word\"}},React.createElement(Grid,{container:true,wrap:\"nowrap\",spacing:3},React.createElement(Grid,{item:true},React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",fontSize:\"2rem\",backgroundColor:\"rgb(247,249,250)\",padding:\"0.5rem\",borderRadius:\"15px\"}},React.createElement(\"i\",{style:{color:\"green\",margin:\"0 auto\"},className:\"fas fa-thumbs-up\",onClick:!!currentUser?function(){return handleHaiku(id,1);}:null}),React.createElement(\"div\",{style:{margin:\"0 auto\"}},score),React.createElement(\"i\",{style:{color:\"pink\",margin:\"0 auto\"},className:\"fas fa-thumbs-down\",onClick:!!currentUser?function(){return handleHaiku(id,-1);}:null}))),React.createElement(Grid,{item:true,xs:true,zeroMinWidth:true},React.createElement(\"div\",{style:{marginTop:0,padding:0}},React.createElement(\"div\",{style:{fontWeight:\"bold\",marginBottom:\"0.4rem\",fontSize:\"2rem\",fontFamily:'Allura'}},\"\\\"\",title,\"\\\"\"),React.createElement(\"div\",{style:{whiteSpace:\"pre-wrap\",lineHeight:\"1.6\"}},text,\" \"),React.createElement(\"div\",{style:{fontSize:\"0.8rem\",marginTop:\"0.5rem\",marginBottom:\"0.5rem\",fontWeight:\"bold\"}},\"-\",user)))));}","map":{"version":3,"sources":["/Users/antontuominen/Desktop/NovelApp/react_novel/src/Haiku.js"],"names":["React","useContext","Paper","HaikuContext","makeStyles","AuthContext","Grid","useStyles","theme","paper","maxWidth","margin","spacing","padding","Haiku","title","text","user","score","id","classes","currentUser","haikus","setHaiku","handleHaiku","a","updatedHaikus","map","haiku","userVote","includes","email","sort","b","window","localStorage","setItem","JSON","stringify","wordWrap","display","flexDirection","fontSize","backgroundColor","borderRadius","color","marginTop","fontWeight","marginBottom","fontFamily","whiteSpace","lineHeight"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react'\nimport { Paper } from '@material-ui/core'\nimport { HaikuContext } from './HaikuList'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AuthContext } from './Auth'\nimport { Grid } from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        maxWidth: 300,\n        margin: `${theme.spacing(1)}px auto`,\n        padding: theme.spacing(2),\n    },\n}));\n\nexport default function Haiku({ title, text, user, score, id }) {\n    const classes = useStyles();\n    const { currentUser } = useContext(AuthContext);\n    const { haikus, setHaiku } = useContext(HaikuContext)\n    const handleHaiku = (id, a) => {\n        //making sure that user can only have one vote for haiku\n        const updatedHaikus = haikus.map(haiku => (\n            haiku.id === id && haiku.userVote.includes(currentUser.email) !== true ? { ...haiku, score: haiku.score + a, userVote: [...haiku.userVote, currentUser.email] } : haiku)\n        )\n        updatedHaikus.sort((a, b) => b.score - a.score);\n        setHaiku(updatedHaikus);\n    }\n    window.localStorage.setItem(\"haikus\", JSON.stringify(haikus))\n    return (\n        <Paper className={classes.paper} style={{\n            wordWrap: \"break-word\"\n        }}>\n            <Grid container wrap=\"nowrap\" spacing={3}>\n                <Grid item >\n                    <div style={{ display: \"flex\", flexDirection: \"column\", fontSize: \"2rem\", backgroundColor: \"rgb(247,249,250)\", padding: \"0.5rem\", borderRadius: \"15px\" }}>\n                        <i style={{ color: \"green\", margin: \"0 auto\" }} className=\"fas fa-thumbs-up\" onClick={!!currentUser ? () => handleHaiku(id, 1) : null}></i>\n                        <div style={{ margin: \"0 auto\" }}>{score}</div>\n                        <i style={{ color: \"pink\", margin: \"0 auto\" }} className=\"fas fa-thumbs-down\" onClick={!!currentUser ? () => handleHaiku(id, -1) : null}></i>\n                    </div>\n                </Grid>\n                <Grid item xs zeroMinWidth >\n                    <div style={{ marginTop: 0, padding: 0 }}>\n                        <div style={{ fontWeight: \"bold\", marginBottom: \"0.4rem\", fontSize: \"2rem\", fontFamily: 'Allura' }}>\"{title}\"</div>\n                        <div style={{ whiteSpace: \"pre-wrap\", lineHeight: \"1.6\" }}>{text} </div>\n                        <div style={{ fontSize: \"0.8rem\", marginTop: \"0.5rem\", marginBottom: \"0.5rem\", fontWeight: \"bold\" }}>-{user}</div>\n                    </div>\n                </Grid>\n            </Grid>\n        </Paper >\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}