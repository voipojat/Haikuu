{"ast":null,"code":"import _toConsumableArray from\"/Users/antontuominen/Desktop/NovelApp/react_novel/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/antontuominen/Desktop/NovelApp/react_novel/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext}from'react';import uuid from'uuid/v4';import{TextField,Button}from'@material-ui/core';import useInputState from'./hooks/useInputState';import{AuthContext}from'./Auth';import{HaikuContext}from'./HaikuList';import{FormContext}from'./FormContext';import{Redirect}from'react-router-dom';function StoryField(){var _useContext=useContext(HaikuContext),haikus=_useContext.haikus,setHaiku=_useContext.setHaiku;var _useContext2=useContext(FormContext),formSent=_useContext2.formSent,handleForm=_useContext2.handleForm;var _useContext3=useContext(AuthContext),currentUser=_useContext3.currentUser;var _useInputState=useInputState(\"\"),_useInputState2=_slicedToArray(_useInputState,2),title=_useInputState2[0],handleTitle=_useInputState2[1];var _useInputState3=useInputState(\"\"),_useInputState4=_slicedToArray(_useInputState3,2),text=_useInputState4[0],handleText=_useInputState4[1];var score=0;var userVote=[];var handleHaiku=function handleHaiku(title,text,user,score,userVote){setHaiku([].concat(_toConsumableArray(haikus),[{id:uuid(),title:title,text:text,user:user,score:score,userVote:userVote}]));handleForm(true);setTimeout(function(){handleForm(false);},1500);};useEffect(function(){haikus.sort(function(a,b){return b.score-a.score;});window.localStorage.setItem(\"haikus\",JSON.stringify(haikus));});if(formSent||!currentUser){return React.createElement(Redirect,{to:\"/\"});}if(currentUser||!formSent)return React.createElement(\"div\",{style:{textAlign:\" center\"}},React.createElement(\"form\",{onSubmit:function onSubmit(){return handleHaiku(title,text,currentUser.email,score,userVote);},style:{display:\"inline-block\",marginBottom:\"1rem\"}},React.createElement(TextField,{label:\"Title\",autoFocus:true,style:{marginTop:\"1rem\"},title:title,onChange:handleTitle,required:true}),React.createElement(TextField,{multiline:true,variant:\"outlined\",style:{width:\"98%\",margin:\"1rem 0\",backgroundColor:\"rgb(247,249,250)\",border:\"2px solid rgb(63,81,181)\"},rows:\"15\",text:text,onChange:handleText,required:true}),React.createElement(Button,{variant:\"contained\",type:\"submit\",style:{backgroundColor:\"rgb(63,81,181)\",color:\"white\"}},\"Submit\")),React.createElement(\"div\",{style:{margin:\"auto 0\"}},\"Traditional Haiku Structure\",React.createElement(\"p\",null,\"1. There are only three lines, totaling 17 syllables.\"),React.createElement(\"p\",null,\"2. The first line is 5 syllables.\"),React.createElement(\"p\",null,\"3. The second line is 7 syllables.\"),React.createElement(\"p\",null,\"4. The third line is 5 syllables like the first.\")));}export default StoryField;","map":{"version":3,"sources":["/Users/antontuominen/Desktop/NovelApp/react_novel/src/StoryField.js"],"names":["React","useEffect","useContext","uuid","TextField","Button","useInputState","AuthContext","HaikuContext","FormContext","Redirect","StoryField","haikus","setHaiku","formSent","handleForm","currentUser","title","handleTitle","text","handleText","score","userVote","handleHaiku","user","id","setTimeout","sort","a","b","window","localStorage","setItem","JSON","stringify","textAlign","email","display","marginBottom","marginTop","width","margin","backgroundColor","border","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext } from 'react'\nimport uuid from 'uuid/v4'\nimport { TextField, Button } from '@material-ui/core'\nimport useInputState from './hooks/useInputState'\nimport { AuthContext } from './Auth'\nimport { HaikuContext } from './HaikuList'\nimport { FormContext } from './FormContext'\nimport { Redirect } from 'react-router-dom'\n\nfunction StoryField() {\n    const { haikus, setHaiku } = useContext(HaikuContext)\n    const { formSent, handleForm } = useContext(FormContext)\n    const { currentUser } = useContext(AuthContext);\n    const [title, handleTitle] = useInputState(\"\")\n    const [text, handleText] = useInputState(\"\")\n\n    const score = 0;\n    const userVote = [];\n    const handleHaiku = (title, text, user, score, userVote) => {\n        setHaiku([...haikus, { id: uuid(), title: title, text: text, user: user, score: score, userVote: userVote }])\n        handleForm(true);\n        setTimeout(() => {\n            handleForm(false)\n        }, 1500);\n    }\n    useEffect(() => {\n        haikus.sort((a, b) => b.score - a.score);\n        window.localStorage.setItem(\"haikus\", JSON.stringify(haikus))\n    })\n\n    if (formSent || !currentUser) {\n        return <Redirect to={\"/\"} />\n    }\n\n    if (currentUser || !formSent)\n        return (\n            <div style={{ textAlign: \" center\" }}>\n                <form onSubmit={() => handleHaiku(title, text, currentUser.email, score, userVote)} style={{ display: \"inline-block\", marginBottom: \"1rem\" }}>\n                    <TextField label=\"Title\" autoFocus style={{ marginTop: \"1rem\" }}\n                        title={title} onChange={handleTitle} required />\n                    <TextField multiline variant=\"outlined\" style={{ width: \"98%\", margin: \"1rem 0\", backgroundColor: \"rgb(247,249,250)\", border: \"2px solid rgb(63,81,181)\" }} rows=\"15\"\n                        text={text} onChange={handleText} required />\n                    <Button variant=\"contained\" type=\"submit\" style={{ backgroundColor: \"rgb(63,81,181)\", color: \"white\" }} >Submit</Button>\n                </form>\n                <div style={{ margin: \"auto 0\" }}>Traditional Haiku Structure\n                        <p>1. There are only three lines, totaling 17 syllables.</p>\n                    <p>2. The first line is 5 syllables.</p>\n                    <p>3. The second line is 7 syllables.</p>\n                    <p>4. The third line is 5 syllables like the first.</p>\n                </div>\n            </div>\n        )\n}\n\nexport default StoryField"]},"metadata":{},"sourceType":"module"}