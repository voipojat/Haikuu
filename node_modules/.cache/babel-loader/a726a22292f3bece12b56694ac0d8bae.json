{"ast":null,"code":"import _regeneratorRuntime from\"/Users/antontuominen/Desktop/NovelApp/react_novel/node_modules/@babel/runtime/regenerator\";import React,{useContext,useCallback}from'react';import{Link,Redirect,withRouter}from'react-router-dom';import{Paper,TextField,Grid,Button}from'@material-ui/core';import fire from'./Fire';import{AuthContext}from'./Auth';var Login=function Login(_ref){var history=_ref.history;var handleLogin=useCallback(function _callee(event){var _event$target$element,email,password;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_event$target$element=event.target.elements,email=_event$target$element.email,password=_event$target$element.password;_context.prev=2;_context.next=5;return _regeneratorRuntime.awrap(fire.auth().signInWithEmailAndPassword(email.value,password.value));case 5:history.push(\"/\");_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);alert(\"error\");case 11:case\"end\":return _context.stop();}}},null,null,[[2,8]]);},[history]);var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;if(currentUser){return React.createElement(Redirect,{to:\"/\"});}return React.createElement(\"div\",{className:\"App\"},React.createElement(\"h1\",null,\"Log In\"),React.createElement(Grid,{container:true,justify:\"flex-end\",alignItems:\"center\",direction:\"column\"},React.createElement(Paper,{style:{maxWidth:300,padding:\"2rem\"}},React.createElement(\"form\",{onSubmit:handleLogin},React.createElement(TextField,{name:\"email\",id:\"outlined-basic\",label:\"Username\",variant:\"outlined\",fullWidth:true}),React.createElement(TextField,{name:\"password\",id:\"outlined-password-input\",label:\"Password\",type:\"password\",autoComplete:\"current-password\",variant:\"outlined\",fullWidth:true}),React.createElement(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",style:{margin:\"1rem\"}},\"Login\")),React.createElement(Link,{to:\"/signup\",style:{textDecoration:'none'}},\"Don't have an account?\"))));};export default withRouter(Login);","map":{"version":3,"sources":["/Users/antontuominen/Desktop/NovelApp/react_novel/src/LoginForm.js"],"names":["React","useContext","useCallback","Link","Redirect","withRouter","Paper","TextField","Grid","Button","fire","AuthContext","Login","history","handleLogin","event","preventDefault","target","elements","email","password","auth","signInWithEmailAndPassword","value","push","alert","currentUser","maxWidth","padding","margin","textDecoration"],"mappings":"2HAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,WAA5B,KAA+C,OAA/C,CACA,OAASC,IAAT,CAAeC,QAAf,CAAyBC,UAAzB,KAA2C,kBAA3C,CACA,OAASC,KAAT,CAAgBC,SAAhB,CAA2BC,IAA3B,CAAiCC,MAAjC,KAA+C,mBAA/C,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,OAASC,WAAT,KAA4B,QAA5B,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAC3B,GAAMC,CAAAA,WAAW,CAAGZ,WAAW,CAAC,iBAAMa,KAAN,4JAC5BA,KAAK,CAACC,cAAN,GAD4B,sBAEAD,KAAK,CAACE,MAAN,CAAaC,QAFb,CAEpBC,KAFoB,uBAEpBA,KAFoB,CAEbC,QAFa,uBAEbA,QAFa,kEAIlBV,IAAI,CACLW,IADC,GAEDC,0BAFC,CAE0BH,KAAK,CAACI,KAFhC,CAEuCH,QAAQ,CAACG,KAFhD,CAJkB,SAOxBV,OAAO,CAACW,IAAR,CAAa,GAAb,EAPwB,+EASxBC,KAAK,CAAC,OAAD,CAAL,CATwB,iEAAD,CAW5B,CAACZ,OAAD,CAX4B,CAA/B,CAD2B,gBAaHZ,UAAU,CAACU,WAAD,CAbP,CAanBe,WAbmB,aAanBA,WAbmB,CAc3B,GAAIA,WAAJ,CAAiB,CACb,MAAO,qBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACH,CACD,MACI,4BAAK,SAAS,CAAC,KAAf,EACI,uCADJ,CAEI,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAC,UAAxB,CAAmC,UAAU,CAAC,QAA9C,CAAuD,SAAS,CAAC,QAAjE,EACI,oBAAC,KAAD,EAAO,KAAK,CAAE,CAAEC,QAAQ,CAAE,GAAZ,CAAiBC,OAAO,CAAE,MAA1B,CAAd,EACI,4BAAM,QAAQ,CAAEd,WAAhB,EACI,oBAAC,SAAD,EAAW,IAAI,CAAC,OAAhB,CAAwB,EAAE,CAAC,gBAA3B,CAA4C,KAAK,CAAC,UAAlD,CAA6D,OAAO,CAAC,UAArE,CAAgF,SAAS,KAAzF,EADJ,CAEI,oBAAC,SAAD,EAAW,IAAI,CAAC,UAAhB,CAA2B,EAAE,CAAC,yBAA9B,CAAwD,KAAK,CAAC,UAA9D,CAAyE,IAAI,CAAC,UAA9E,CAAyF,YAAY,CAAC,kBAAtG,CAAyH,OAAO,CAAC,UAAjI,CAA4I,SAAS,KAArJ,EAFJ,CAGI,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAC,WAA9B,CAA0C,KAAK,CAAC,SAAhD,CAA0D,KAAK,CAAE,CAAEe,MAAM,CAAE,MAAV,CAAjE,UAHJ,CADJ,CAMI,oBAAC,IAAD,EAAM,EAAE,CAAC,SAAT,CAAmB,KAAK,CAAE,CAAEC,cAAc,CAAE,MAAlB,CAA1B,2BANJ,CADJ,CAFJ,CADJ,CAeH,CAhCD,CAkCA,cAAezB,CAAAA,UAAU,CAACO,KAAD,CAAzB","sourcesContent":["import React, { useContext, useCallback } from 'react'\nimport { Link, Redirect, withRouter } from 'react-router-dom'\nimport { Paper, TextField, Grid, Button } from '@material-ui/core'\nimport fire from './Fire'\nimport { AuthContext } from './Auth'\n\nconst Login = ({ history }) => {\n    const handleLogin = useCallback(async event => {\n        event.preventDefault();\n        const { email, password } = event.target.elements;\n        try {\n            await fire\n                .auth()\n                .signInWithEmailAndPassword(email.value, password.value);\n            history.push(\"/\")\n        } catch (error) {\n            alert(\"error\")\n        }\n    }, [history]);\n    const { currentUser } = useContext(AuthContext)\n    if (currentUser) {\n        return <Redirect to=\"/\" />\n    }\n    return (\n        <div className=\"App\">\n            <h1 >Log In</h1>\n            <Grid container justify=\"flex-end\" alignItems=\"center\" direction=\"column\">\n                <Paper style={{ maxWidth: 300, padding: \"2rem\" }}>\n                    <form onSubmit={handleLogin}>\n                        <TextField name=\"email\" id=\"outlined-basic\" label=\"Username\" variant=\"outlined\" fullWidth />\n                        <TextField name=\"password\" id=\"outlined-password-input\" label=\"Password\" type=\"password\" autoComplete=\"current-password\" variant=\"outlined\" fullWidth />\n                        <Button type=\"submit\" variant=\"contained\" color=\"primary\" style={{ margin: \"1rem\" }} >Login</Button>\n                    </form>\n                    <Link to=\"/signup\" style={{ textDecoration: 'none' }} >Don't have an account?</Link>\n                </Paper>\n            </Grid>\n        </div>\n    )\n}\n\nexport default withRouter(Login)"]},"metadata":{},"sourceType":"module"}