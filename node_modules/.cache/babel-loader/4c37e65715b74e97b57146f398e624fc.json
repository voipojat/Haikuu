{"ast":null,"code":"import _objectSpread from \"/Users/antontuominen/Desktop/NovelApp/react_novel/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/antontuominen/Desktop/NovelApp/react_novel/src/Haiku.js\";\nimport React, { useContext } from 'react';\nimport { Paper, ListItem, ListItemText } from '@material-ui/core';\nimport { HaikuContext } from './HaikuList';\nimport { AuthContext } from './Auth';\nimport { Grid } from '@material-ui/core';\nexport default function Haiku({\n  title,\n  text,\n  user,\n  score,\n  id\n}) {\n  const _useContext = useContext(AuthContext),\n        currentUser = _useContext.currentUser;\n\n  const _useContext2 = useContext(HaikuContext),\n        haikus = _useContext2.haikus,\n        setHaiku = _useContext2.setHaiku;\n\n  const handleHaiku = (id, a) => {\n    //making sure that user can only have one vote for haiku\n    const updatedHaikus = haikus.map(haiku => haiku.id === id && haiku.userVote.includes(currentUser.email) != true ? _objectSpread({}, haiku, {\n      score: haiku.score + a,\n      userVote: [...haiku.userVote, currentUser.email]\n    }) : haiku);\n    updatedHaikus.sort((a, b) => b.score - a.score);\n    setHaiku(updatedHaikus);\n  };\n\n  window.localStorage.setItem(\"haikus\", JSON.stringify(haikus));\n  return React.createElement(Grid, {\n    item: true,\n    xs: 11,\n    md: 8,\n    lg: 4,\n    style: {\n      margin: \"0.5rem\",\n      width: \"20%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, \"Hello\"));\n}","map":{"version":3,"sources":["/Users/antontuominen/Desktop/NovelApp/react_novel/src/Haiku.js"],"names":["React","useContext","Paper","ListItem","ListItemText","HaikuContext","AuthContext","Grid","Haiku","title","text","user","score","id","currentUser","haikus","setHaiku","handleHaiku","a","updatedHaikus","map","haiku","userVote","includes","email","sort","b","window","localStorage","setItem","JSON","stringify","margin","width"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,KAAT,EAAgBC,QAAhB,EAA0BC,YAA1B,QAA8C,mBAA9C;AACA,SAASC,YAAT,QAA6B,aAA7B;AACA,SAASC,WAAT,QAA4B,QAA5B;AACA,SAASC,IAAT,QAAqB,mBAArB;AAEA,eAAe,SAASC,KAAT,CAAe;AAAEC,EAAAA,KAAF;AAASC,EAAAA,IAAT;AAAeC,EAAAA,IAAf;AAAqBC,EAAAA,KAArB;AAA4BC,EAAAA;AAA5B,CAAf,EAAiD;AAAA,sBACpCZ,UAAU,CAACK,WAAD,CAD0B;AAAA,QACpDQ,WADoD,eACpDA,WADoD;;AAAA,uBAE/Bb,UAAU,CAACI,YAAD,CAFqB;AAAA,QAEpDU,MAFoD,gBAEpDA,MAFoD;AAAA,QAE5CC,QAF4C,gBAE5CA,QAF4C;;AAI5D,QAAMC,WAAW,GAAG,CAACJ,EAAD,EAAKK,CAAL,KAAW;AAC3B;AACA,UAAMC,aAAa,GAAGJ,MAAM,CAACK,GAAP,CAAWC,KAAK,IAClCA,KAAK,CAACR,EAAN,KAAaA,EAAb,IAAmBQ,KAAK,CAACC,QAAN,CAAeC,QAAf,CAAwBT,WAAW,CAACU,KAApC,KAA8C,IAAjE,qBAA6EH,KAA7E;AAAoFT,MAAAA,KAAK,EAAES,KAAK,CAACT,KAAN,GAAcM,CAAzG;AAA4GI,MAAAA,QAAQ,EAAE,CAAC,GAAGD,KAAK,CAACC,QAAV,EAAoBR,WAAW,CAACU,KAAhC;AAAtH,SAAiKH,KAD/I,CAAtB;AAGAF,IAAAA,aAAa,CAACM,IAAd,CAAmB,CAACP,CAAD,EAAIQ,CAAJ,KAAUA,CAAC,CAACd,KAAF,GAAUM,CAAC,CAACN,KAAzC;AACAI,IAAAA,QAAQ,CAACG,aAAD,CAAR;AACH,GAPD;;AAQAQ,EAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,EAAsCC,IAAI,CAACC,SAAL,CAAehB,MAAf,CAAtC;AACA,SACI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAA0B,IAAA,EAAE,EAAE,CAA9B;AAAiC,IAAA,KAAK,EAAE;AAAEiB,MAAAA,MAAM,EAAE,QAAV;AAAoBC,MAAAA,KAAK,EAAE;AAA3B,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,CADJ;AAQH","sourcesContent":["import React, { useContext } from 'react'\nimport { Paper, ListItem, ListItemText } from '@material-ui/core'\nimport { HaikuContext } from './HaikuList'\nimport { AuthContext } from './Auth'\nimport { Grid } from '@material-ui/core'\n\nexport default function Haiku({ title, text, user, score, id }) {\n    const { currentUser } = useContext(AuthContext);\n    const { haikus, setHaiku } = useContext(HaikuContext)\n\n    const handleHaiku = (id, a) => {\n        //making sure that user can only have one vote for haiku\n        const updatedHaikus = haikus.map(haiku => (\n            haiku.id === id && haiku.userVote.includes(currentUser.email) != true ? { ...haiku, score: haiku.score + a, userVote: [...haiku.userVote, currentUser.email] } : haiku)\n        )\n        updatedHaikus.sort((a, b) => b.score - a.score);\n        setHaiku(updatedHaikus);\n    }\n    window.localStorage.setItem(\"haikus\", JSON.stringify(haikus))\n    return (\n        <Grid item xs={11} md={8} lg={4} style={{ margin: \"0.5rem\", width: \"20%\" }}>\n            <Paper>\n                Hello\n        </Paper>\n        </Grid>\n\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}