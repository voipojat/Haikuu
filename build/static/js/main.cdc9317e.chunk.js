(this.webpackJsonpreact_novel=this.webpackJsonpreact_novel||[]).push([[0],{60:function(e,t,a){e.exports=a(81)},65:function(e,t,a){},66:function(e,t,a){},76:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),o=a.n(l),i=(a(65),a(66),a(15)),c=a(20),s=a(26),u=a.n(s),m=a(107),d=a(82),p=a(115),b=a(116),f=a(46),g=(a(70),f.initializeApp({apiKey:"AIzaSyCeemQgV4-8NYJcRe2UNfmkH55xzmxAtNI",authDomain:"novelly-b4faf.firebaseapp.com",databaseURL:"https://novelly-b4faf.firebaseio.com",projectId:"novelly-b4faf",storageBucket:"novelly-b4faf.appspot.com",messagingSenderId:"963778951991",appId:"1:963778951991:web:3c65c600e2e30d85fcf8b2",measurementId:"G-6HJ9KFW2KP"})),h=a(19),E=r.a.createContext(),v=function(e){var t=e.children,a=Object(n.useState)(null),l=Object(h.a)(a,2),o=l[0],i=l[1];return Object(n.useEffect)((function(){g.auth().onAuthStateChanged(i)}),[]),r.a.createElement(E.Provider,{value:{currentUser:o}},t)},y=Object(c.f)((function(e){var t=e.history,a=Object(n.useCallback)((function(e){var a,n,r;return u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e.preventDefault(),a=e.target.elements,n=a.email,r=a.password,l.prev=2,l.next=5,u.a.awrap(g.auth().signInWithEmailAndPassword(n.value,r.value));case 5:t.push("/"),l.next=11;break;case 8:l.prev=8,l.t0=l.catch(2),alert("error");case 11:case"end":return l.stop()}}),null,null,[[2,8]])}),[t]);return Object(n.useContext)(E).currentUser?r.a.createElement(c.a,{to:"/"}):r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Log In"),r.a.createElement(m.a,{container:!0,justify:"flex-end",alignItems:"center",direction:"column"},r.a.createElement(d.a,{style:{maxWidth:300,padding:"2rem"}},r.a.createElement("form",{onSubmit:a},r.a.createElement(p.a,{name:"email",id:"outlined-basic",label:"Username",variant:"outlined",fullWidth:!0}),r.a.createElement(p.a,{name:"password",id:"outlined-password-input",label:"Password",type:"password",autoComplete:"current-password",variant:"outlined",fullWidth:!0}),r.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",style:{margin:"1rem"}},"Login")),r.a.createElement(i.b,{to:"/signup",style:{textDecoration:"none"}},"Don't have an account?"))))})),x=(a(76),Object(c.f)((function(e){var t=e.history,a=Object(n.useCallback)((function(e){var a,n,r;return u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e.preventDefault(),a=e.target.elements,n=a.email,r=a.password,l.prev=2,l.next=5,u.a.awrap(g.auth().createUserWithEmailAndPassword(n.value,r.value));case 5:t.push("/"),l.next=11;break;case 8:l.prev=8,l.t0=l.catch(2),alert("error");case 11:case"end":return l.stop()}}),null,null,[[2,8]])}),[t]);return r.a.createElement("div",{className:"sign"},r.a.createElement("h2",null,"Join Haikuu!"),r.a.createElement("h1",null,"Create your account"),r.a.createElement(m.a,{container:!0,justify:"flex-end",alignItems:"center",direction:"column"},r.a.createElement(d.a,{style:{maxWidth:300,padding:"2rem"}},r.a.createElement("form",{onSubmit:a},r.a.createElement(p.a,{name:"email",id:"outlined-basic",label:"Username",variant:"outlined",fullWidth:!0,required:!0}),r.a.createElement(p.a,{name:"password",id:"outlined-password-input",label:"Password",type:"password",autoComplete:"current-password",variant:"outlined",fullWidth:!0,required:!0}),r.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",style:{margin:"1rem"}},"Sign Up")),r.a.createElement(i.b,{to:"/login",style:{textDecoration:"none"}},"Already have an account?"),r.a.createElement("p",null,"*Please note that all user information will be leaked to third party companies "))))}))),w=r.a.createContext();function k(e){var t=JSON.parse(window.localStorage.getItem("haikus")||"[]"),a=Object(n.useState)(t),l=Object(h.a)(a,2),o=l[0],i=l[1];return r.a.createElement(w.Provider,{value:{haikus:o,setHaiku:i}},e.children)}var O=r.a.createContext();function j(e){var t=Object(n.useState)(null),a=Object(h.a)(t,2),l=a[0],o=a[1];return r.a.createElement(O.Provider,{value:{formSent:l,handleForm:o}},e.children)}var C=a(14),S=a(51),W=a(111),I=Object(W.a)((function(e){return{paper:{maxWidth:300,margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)}}}));function D(e){var t=e.title,a=e.text,l=e.user,o=e.score,i=e.id,c=I(),s=Object(n.useContext)(E).currentUser,u=Object(n.useContext)(w),p=u.haikus,b=u.setHaiku,f=function(e,t){var a=p.map((function(a){return a.id===e&&!0!==a.userVote.includes(s.email)?Object(S.a)({},a,{score:a.score+t,userVote:[].concat(Object(C.a)(a.userVote),[s.email])}):a}));a.sort((function(e,t){return t.score-e.score})),b(a)};return window.localStorage.setItem("haikus",JSON.stringify(p)),r.a.createElement(d.a,{className:c.paper,style:{wordWrap:"break-word"}},r.a.createElement(m.a,{container:!0,wrap:"nowrap",spacing:3},r.a.createElement(m.a,{item:!0},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",fontSize:"2rem",backgroundColor:"rgb(247,249,250)",padding:"0.5rem",borderRadius:"15px"}},r.a.createElement("i",{style:{color:"green",margin:"0 auto"},className:"fas fa-thumbs-up",onClick:s?function(){return f(i,1)}:null}),r.a.createElement("div",{style:{margin:"0 auto"}},o),r.a.createElement("i",{style:{color:"pink",margin:"0 auto"},className:"fas fa-thumbs-down",onClick:s?function(){return f(i,-1)}:null}))),r.a.createElement(m.a,{item:!0,xs:!0,zeroMinWidth:!0},r.a.createElement("div",{style:{marginTop:0,padding:0}},r.a.createElement("div",{style:{fontWeight:"bold",marginBottom:"0.4rem",fontSize:"2rem",fontFamily:"Allura"}},'"',t,'"'),r.a.createElement("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6"}},a," "),r.a.createElement("div",{style:{fontSize:"0.8rem",marginTop:"0.5rem",marginBottom:"0.5rem",fontWeight:"bold"}},"-",l)))))}var N=a(52),T=a.n(N),U=Object(W.a)((function(e){return{root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)}}}));var A=function(){var e=U(),t=Object(n.useContext)(w).haikus,a=Object(n.useContext)(O).formSent;return r.a.createElement("div",null,!0===a?r.a.createElement("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"}},r.a.createElement("h1",{style:{background:"rgb(104,114,165)",color:"white",borderRadius:"15px",padding:"0.5rem",marginTop:"0.5rem",fontWeight:"400",display:"inline-block"}},"Your haiku was created!"),r.a.createElement(T.a,{style:{fontSize:"10rem",display:"inline-block"}})):r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",{style:{background:"rgb(104,114,165)",color:"white",display:"inline-block",borderRadius:"15px",padding:"0.5rem",marginTop:"0.5rem",fontWeight:"400"}},"Popular haikus")),r.a.createElement("div",{className:e.root},r.a.createElement("div",{style:{position:"absolute",top:"140px",left:"0px",right:"0px",bottom:"0px",overflowY:"scroll"}},t.map((function(e){return r.a.createElement(D,{key:e.id,id:e.id,title:e.title,text:e.text,user:e.user,score:e.score,userVote:e.userVote})}))))))},P=a(53),R=a.n(P);var H=function(e){var t=Object(n.useState)(e),a=Object(h.a)(t,2),r=a[0],l=a[1];return[r,function(e){l(e.target.value)}]};var z=function(){var e=Object(n.useContext)(w),t=e.haikus,a=e.setHaiku,l=Object(n.useContext)(O),o=l.formSent,i=l.handleForm,s=Object(n.useContext)(E).currentUser,u=H(""),m=Object(h.a)(u,2),d=m[0],f=m[1],g=H(""),v=Object(h.a)(g,2),y=v[0],x=v[1],k=[];return Object(n.useEffect)((function(){t.sort((function(e,t){return t.score-e.score})),window.localStorage.setItem("haikus",JSON.stringify(t))})),o||!s?r.a.createElement(c.a,{to:"/"}):s||!o?r.a.createElement("div",{style:{textAlign:" center"}},r.a.createElement("form",{onSubmit:function(){return function(e,n,r,l,o){a([].concat(Object(C.a)(t),[{id:R()(),title:e,text:n,user:r,score:l,userVote:o}])),i(!0),setTimeout((function(){i(!1)}),1500)}(d,y,s.email,0,k)},style:{display:"inline-block",marginBottom:"1rem"}},r.a.createElement(p.a,{label:"Title",autoFocus:!0,style:{marginTop:"1rem"},title:d,onChange:f,required:!0}),r.a.createElement(p.a,{multiline:!0,variant:"outlined",style:{width:"98%",margin:"1rem 0",backgroundColor:"rgb(247,249,250)",border:"2px solid rgb(63,81,181)"},rows:"15",text:y,onChange:x,required:!0}),r.a.createElement(b.a,{variant:"contained",type:"submit",style:{backgroundColor:"rgb(63,81,181)",color:"white"}},"Submit")),r.a.createElement("div",{style:{margin:"auto 0"}},"Traditional Haiku Structure",r.a.createElement("p",null,"1. There are only three lines, totaling 17 syllables."),r.a.createElement("p",null,"2. The first line is 5 syllables."),r.a.createElement("p",null,"3. The second line is 7 syllables."),r.a.createElement("p",null,"4. The third line is 5 syllables like the first."))):void 0},F=a(112),J=a(113),V=a(114);var B=function(){var e=Object(n.useContext)(E).currentUser;return r.a.createElement("div",{style:{display:"flex",flexGrow:1}},r.a.createElement(F.a,{position:"static"},r.a.createElement(J.a,null,r.a.createElement(i.b,{to:"/",style:{textDecoration:"none",color:"white",flexGrow:1,marginRight:"0.5rem"},edge:"start"},"Home"),null!==e?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{id:"boi2",to:"/storyfield",style:{textDecoration:"none",color:"white",margin:"0 1rem",flexShrink:0}},"Write a new haiku!"),r.a.createElement(V.a,{id:"boi",style:{margin:"0 1rem"}},e.email),r.a.createElement(b.a,{onClick:function(){return g.auth().signOut()},variant:"contained",style:{backgroundColor:"rgb(104,114,165)",color:"white",flexShrink:0,marginRight:"0.5rem"}},"Sign Out")):r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,null),r.a.createElement(i.b,{to:"/login",style:{textDecoration:"none",color:"white",marginRight:"0.5rem",backgroundColor:"rgb(104,114,165)",padding:"0.5rem",borderRadius:"15px",fontWeight:"bold"}},"Log In"),r.a.createElement(i.b,{to:"/signup",style:{textDecoration:"none",color:"white",backgroundColor:"rgb(104,114,165)",padding:"0.5rem",borderRadius:"15px"}},"Sign Up")))))};var q=function(){return r.a.createElement(v,null,r.a.createElement(j,null,r.a.createElement(k,null,r.a.createElement(i.a,null,r.a.createElement(B,null),r.a.createElement("div",null,r.a.createElement(c.b,{exact:!0,path:"/",component:A}),r.a.createElement(c.b,{exact:!0,path:"/storyfield",component:z}),r.a.createElement(c.b,{exact:!0,path:"/login",component:y}),r.a.createElement(c.b,{exact:!0,path:"/signup",component:x}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[60,1,2]]]);
//# sourceMappingURL=main.cdc9317e.chunk.js.map